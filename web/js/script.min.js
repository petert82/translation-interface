/*! translation-interface 21-10-2014 */
angular.module("translation-interface",["ui.router","ti.common","ti.domain","ti.string"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/domains"),a.state("domains",{url:"/domains",templateUrl:"/template/translation/index.html"}).state("domains.single",{url:"/:domainName",templateUrl:"/template/domain/list.html",controller:"SingleDomainController"})}]),angular.module("ti.common",["ti.common.services"]),angular.module("ti.common.services",[]),angular.module("ti.domain",["ti.domain.controllers","ti.domain.directives","ti.domain.filters","ti.domain.services"]),angular.module("ti.domain.controllers",[]),angular.module("ti.domain.directives",[]),angular.module("ti.domain.filters",[]),angular.module("ti.domain.services",[]),angular.module("ti.domain.controllers").controller("DomainIndexController",["$scope","$state","DomainService",function(a,b,c){a.state="loading",a.domains=[],a.selectedDomain="",c.query().then(function(b){a.domains=b,a.state="loaded"}),a.$watch("selectedDomain",function(a){angular.isDefined(a)&&""!==a&&b.go("domains.single",{domainName:a})})}]),angular.module("ti.domain.controllers").controller("SingleDomainController",["$scope","$stateParams","DomainService",function(a,b,c){a.state="loading",a.name=b.domainName,a.strings=[],a.language="de",c.get(a.name).then(function(b){a.strings=b.strings})}]),angular.module("ti.domain.services").factory("DomainService",["$http","$q",function(a,b){var c="/api";return{query:function(){var d=b.defer();return a.get(c+"/domains").success(function(a){d.resolve(a.domains)}).error(function(){d.resolve([])}),d.promise},get:function(d){var e=b.defer();return a.get(c+"/domains/"+d).success(function(a){e.resolve(a)}).error(function(){e.resolve({})}),e.promise}}}]),angular.module("ti.string",["ti.string.directives"]),angular.module("ti.string.directives",[]),angular.module("ti.string.directives").directive("stringControl",[function(){return{link:function(a){a.workingTranslation=null,angular.isDefined(a.string.translations[a.workingLanguage])&&(a.workingTranslation=a.string.translations[a.workingLanguage].content),a.otherTranslations={},angular.forEach(a.string.translations,function(b,c){b!==a.workingLanguage&&(a.otherTranslations[c]=b.content)})},restrict:"E",scope:{string:"=",workingLanguage:"="},templateUrl:"/template/string/control.html"}}]);